package com.malware98.brokenpath.commands.suggestions;

import com.malware98.brokenpath.data.ModConfigs;
import com.mojang.brigadier.context.CommandContext;
import com.mojang.brigadier.suggestion.SuggestionProvider;
import com.mojang.brigadier.suggestion.Suggestions;
import com.mojang.brigadier.suggestion.SuggestionsBuilder;
import net.minecraft.commands.CommandSourceStack; // Importación correcta
import java.util.Locale; // Importa Locale para la normalización
import java.util.concurrent.CompletableFuture;

public class RaceSuggestions implements SuggestionProvider<CommandSourceStack> {
    public static final RaceSuggestions INSTANCE = new RaceSuggestions();

    @Override
    public CompletableFuture<Suggestions> getSuggestions(CommandContext<CommandSourceStack> context, SuggestionsBuilder builder) {
        // Obtener todas las razas definidas en ModConfigs y sugerirlas
        for (String raceName : ModConfigs.getInstance().raceSettings.keySet()) {
            // Sugiere el nombre de la raza en minúsculas para que coincida con el comando
            builder.suggest(raceName.toLowerCase(Locale.ROOT));
        }
        return builder.buildFuture();
    }
}