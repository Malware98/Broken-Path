package com.malware98.brokenpath.util;

import com.malware98.brokenpath.capabilities.IPlayerStats;
import com.malware98.brokenpath.capabilities.registries.ModCapabilities;
import net.minecraft.world.entity.player.Player;
import net.minecraftforge.common.util.LazyOptional;
import net.minecraftforge.common.util.NonNullConsumer;

/*
 * Clase de utilidad para manejar operaciones relacionadas con las capacidades (Capabilities)
 * de los jugadores en el mod.
 */
public class CapabilityUtils {

    // --- Rutinas de obtención de capacidades ---
    // Obtiene la capacidad IPlayerStats de un jugador.
    public static LazyOptional<IPlayerStats> getPlayerStats(Player player) {
        return player.getCapability(ModCapabilities.PLAYER_DATA_CAPABILITY);
    }

    // Ejecuta un consumidor si la capacidad IPlayerStats está presente en el jugador.
    public static void ifPlayerStatsPresent(Player player, NonNullConsumer<IPlayerStats> consumer) {
        getPlayerStats(player).ifPresent(consumer);
    }
}